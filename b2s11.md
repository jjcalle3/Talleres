Taller Grupal 1: Programaci√≥n Funcional Reactiva
Semana: 11
Objetivos:
Crear una case class en Scala para modelar datos de un archivo CSV (dataset de proyecto integrador).
Manipular los datos como una lista de objetos y realizar operaciones estad√≠sticas.
Comprender la relaci√≥n entre los datos y aplicar f√≥rmulas estad√≠sticas en el an√°lisis exploratorio.
Importante: Resolver el siguiente problema en grupos seg√∫n el proyecto integrador (solo estudiantes presentes en el aula).

Parte 1: Definici√≥n de case class y lectura de archivo
Utilizando la case class que construiste, como tarea, lee los datos del dataset de pel√≠culas y responde a las siguientes preguntas:

Aseg√∫rate de que los atributos popularity, runtime, vote_average sean de tipo real.
¬øCu√°ntas filas pudo leer?
Se leyeron 3497 filas.
¬øCu√°ntas filas son Right?
3471 filas son correctas (Right).
¬øCu√°ntas filas son Left?
26 filas contienen errores (Left).
Ahora, modifica el case class para que el atributo runtime sea del tipo Option[Double] y vuelve a responder las preguntas anteriores.

Los resultados seguir√°n siendo los mismos.
C√≥digo para leer el archivo CSV y procesar los datos
scala
Copiar c√≥digo
import kantan.csv._
import kantan.csv.ops._
import java.io.File
import kantan.csv.generic._

case class Movies(
  adult: Boolean,
  belongs_to_collection: String,
  budget: Int,
  genres: String, // JSON como cadena
  homepage: String,
  id: Int,
  imdb_id: String,
  original_language: String,
  original_title: String,
  overview: String,
  popularity: Double,
  poster_path: String,
  production_companies: String, // JSON como cadena
  production_countries: String, // JSON como cadena
  release_date: String,
  revenue: Long,
  runtime: Option[Double],
  spoken_languages: String, // JSON como cadena
  status: String,
  tagline: String,
  title: String,
  video: Boolean,
  vote_average: Double,
  vote_count: Int,
  keywords: String, // JSON como cadena
  cast: String, // JSON como cadena
  crew: String, // JSON como cadena
  ratings: String // JSON como cadena
)

object Data extends App {
  val path2DataFile = "data/pi_movies_complete.csv"
  val dataSource = new File(path2DataFile)
    .readCsv[List, Movies](rfc.withHeader.withCellSeparator(';'))

  // Filtrar filas v√°lidas
  val rows_ok = dataSource.collect {
    case Right(movie) => movie
  }

  val rows_fall = dataSource.collect {
    case Left(error) => error
  }

  val len_rows_ok = rows_ok.length
  val len_rows_fail = rows_fall.length

  println(s"Numero de datos correctos: ${len_rows_ok}")
  println(s"Numero de datos incorrectos: ${len_rows_fail}")
}
Parte 2: An√°lisis de datos
1. Filtrar las pel√≠culas cuyo revenue sea mayor al promedio de los ingresos
scala
Copiar c√≥digo
val promedio = rows_ok.map(_.revenue).sum.toDouble / rows_ok.length
val filtrarpeliculas = rows_ok.filter(_.revenue > promedio)

println(s"Pel√≠culas con ingresos mayores al promedio: ${filtrarpeliculas.length}")
filtrarpeliculas.foreach(pelicula => println(pelicula.title))
2. Contar cu√°ntas pel√≠culas tienen el atributo adult configurado como true
scala
Copiar c√≥digo
val atributoadulto = rows_ok.filter(_.adult == true).length
println(s"N√∫mero de pel√≠culas para adultos: $atributoadulto")
3. Calcular la varianza de las calificaciones (vote_average)
Para calcular la varianza de las calificaciones (vote_average), utilizamos la siguiente f√≥rmula:

ùúé
2
=
‚àë
ùëñ
=
1
ùëõ
(
ùë•
ùëñ
‚àí
ùë•
‚Äæ
)
2
ùëõ
‚àí
1
œÉ 
2
 = 
n‚àí1
‚àë 
i=1
n
‚Äã
 (x 
i
‚Äã
 ‚àí 
x
 ) 
2
 
‚Äã
 
Donde:

ùë•
ùëñ
x 
i
‚Äã
  es el valor de cada calificaci√≥n (vote_average).
ùë•
‚Äæ
x
  es el promedio de las calificaciones.
ùëõ
n es el n√∫mero total de pel√≠culas.
scala
Copiar c√≥digo
val calificaciones = rows_ok.map(_.vote_average)
val n = calificaciones.length
val promediocalificaciones = calificaciones.sum / n

val varianza = calificaciones.map(v => math.pow(v - promediocalificaciones, 2)).sum / (n - 1)

println(f"Varianza de las calificaciones: $varianza%.2f")
Resultados esperados
Preguntas
¬øCu√°ntas filas le√≠ste correctamente?

Se leyeron 3497 filas en total, de las cuales 3471 son correctas (Right) y 26 contienen errores (Left).
¬øCu√°ntas pel√≠culas tienen ingresos mayores al promedio?

El n√∫mero de pel√≠culas cuyo revenue es mayor al promedio se muestra en la consola al ejecutar el c√≥digo.
¬øCu√°ntas pel√≠culas son para adultos?

El n√∫mero de pel√≠culas cuyo atributo adult est√° configurado como true se muestra en la consola.
Varianza de las calificaciones (vote_average):

La varianza de las calificaciones se calcula y se imprime en la consola con dos decimales de precisi√≥n.
Instrucciones adicionales
Aseg√∫rate de tener las dependencias necesarias para utilizar la librer√≠a kantan.csv.
Este c√≥digo debe ejecutarse en un entorno Scala, por ejemplo, usando Scala CLI o en un proyecto SBT.
Este formato es adecuado para GitHub, ya que:

Utiliza Markdown para estructurar el contenido de manera clara y legible.
El c√≥digo est√° formateado adecuadamente y es f√°cilmente copiable.
Las f√≥rmulas est√°n correctamente representadas utilizando LaTeX en la secci√≥n de varianza.

  $$
  \sigma^2 = \frac{\sum_{i=1}^{n} (x_i - \overline{x})^2}{n}
  $$

  Donde $x_i$ es el **vote_average** de cada pel√≠cula, $\overline{x}$ es el promedio de las **vote_average** y $n$ es el n√∫mero total de pel√≠culas.

> Adjuntar los bloques de c√≥digo y capturas de ejecuci√≥n
> ![image](https://github.com/user-attachments/assets/1442836e-1881-47ac-9a33-963e40b8e2b4)
> ![image](https://github.com/user-attachments/assets/3131c094-c7eb-44c8-bc06-5bbf82cb863d)
> ![image](https://github.com/user-attachments/assets/131da0a1-ec6d-43c5-85e2-f297ae44ae16)




### Calificaci√≥n:

Una vez que termine debe presentar su trabajo a su docente.

- 10 puntos si presenta en el horario de pr√°cticas y experimentaci√≥n.
- 7 puntos si presenta en el horario de tutor√≠a

La hora m√°xima de presentaci√≥n ser√° las 16h30
